# ============================================================================
# Delta Neutral Bot Configuration
# ============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit the .env file to version control!
# ============================================================================

# ============================================================================
# LIGHTER API CONFIGURATION
# ============================================================================

# Base URL for Lighter API
# Testnet: https://testnet.zklighter.elliot.ai
# Mainnet: https://api.lighter.xyz (check official docs for correct URL)
BASE_URL=https://testnet.zklighter.elliot.ai


# ============================================================================
# ACCOUNT 1 CONFIGURATION (LONG POSITIONS)
# ============================================================================

# Private key for Account 1 (includes API key)
# Format: 0x<account_private_key><api_key_private_key>
ACCOUNT1_PRIVATE_KEY=0xYOUR_ACCOUNT1_PRIVATE_KEY_HERE

# Account index for Account 1
ACCOUNT1_INDEX=1

# API key index for Account 1
ACCOUNT1_API_KEY_INDEX=0


# ============================================================================
# ACCOUNT 2 CONFIGURATION (SHORT POSITIONS)
# ============================================================================

# Private key for Account 2 (includes API key)
# Format: 0x<account_private_key><api_key_private_key>
ACCOUNT2_PRIVATE_KEY=0xYOUR_ACCOUNT2_PRIVATE_KEY_HERE

# Account index for Account 2 (MUST be different from Account 1)
ACCOUNT2_INDEX=2

# API key index for Account 2
ACCOUNT2_API_KEY_INDEX=0


# ============================================================================
# TRADING PARAMETERS
# ============================================================================

# Market whitelist - Comma-separated list of allowed market indices
# The bot will randomly select a market from this list for each trade
# Examples:
#   MARKET_WHITELIST=0              (Only ETH-USD)
#   MARKET_WHITELIST=0,1,2          (ETH-USD, BTC-USD, and Market 2)
#   MARKET_WHITELIST=0,1,2,3,4,5    (Multiple markets for diversification)
#
# If left empty, will use MARKET_INDEX as a single-market whitelist
# Check Lighter docs for available market IDs
MARKET_WHITELIST=0

# Fallback market index (used if MARKET_WHITELIST is empty)
# 0 = ETH-USD (check Lighter docs for other markets)
MARKET_INDEX=0

# Base amount per trade (with 4 decimal precision for ETH)
# IMPORTANT: Testnet provides only $500 initially per account!
# With $2000/ETH, you need to use VERY small amounts
# Recommendations:
#   1000 = 0.0001 ETH (~$0.20 at $2000/ETH) - Very safe
#   5000 = 0.0005 ETH (~$1.00 at $2000/ETH) - Safe, allows ~100+ trades
#   10000 = 0.001 ETH (~$2.00 at $2000/ETH) - Moderate
#   50000 = 0.005 ETH (~$10 at $2000/ETH) - Use carefully
BASE_AMOUNT=5000

# Maximum acceptable slippage (decimal format)
# 0.01 = 1%
# 0.02 = 2% (recommended)
# 0.05 = 5%
MAX_SLIPPAGE=0.02

# Leverage multiplier for trading
# IMPORTANT: Each market has its own maximum leverage limit
# The bot will automatically validate your configured leverage against Lighter's API
# and will refuse to start if your leverage exceeds the market's maximum
# Typical values: 1-20 (depends on the market)
# Default: 10x
LEVERAGE=10

# Dynamic Leverage Mode
# If enabled, the bot will randomly select leverage for each trade
# between (market_max - LEVERAGE_BUFFER) and market_max
# This provides variation in leverage usage across trades
# 
# true = Use dynamic leverage (random between max-buffer and max)
# false = Use fixed LEVERAGE value for all trades (default)
USE_DYNAMIC_LEVERAGE=false

# Leverage Buffer (only used when USE_DYNAMIC_LEVERAGE=true)
# The buffer below maximum leverage for dynamic selection
# Example: If max leverage is 50x and buffer is 5, range is 45x-50x
# Default: 5
LEVERAGE_BUFFER=5

# Margin mode
# 0 = Cross margin (uses entire account balance as collateral)
# 1 = Isolated margin (only allocated margin can be lost)
# Default: 0 (cross margin)
MARGIN_MODE=0


# ============================================================================
# BOT BEHAVIOR
# ============================================================================

# Open Trade Delay Range (in seconds) - RANDOMIZED
# Time to wait before opening NEW trades (randomized between MIN and MAX)
# This provides natural variation in trade timing
#
# CRITICAL RULE: MIN_OPEN_DELAY must be at least 30 seconds larger than MAX_CLOSE_DELAY
# This ensures new trades are only opened after old positions are fully closed
#
# Example configurations:
#   MIN_OPEN_DELAY=80, MAX_OPEN_DELAY=120  (1.3-2 minute range, recommended for testing)
#   MIN_OPEN_DELAY=150, MAX_OPEN_DELAY=300 (2.5-5 minute range, conservative)
#   MIN_OPEN_DELAY=360, MAX_OPEN_DELAY=600 (6-10 minute range, very conservative)
#
# Default: 80-120 seconds (allows time for position close + 30s safety buffer)
MIN_OPEN_DELAY=80
MAX_OPEN_DELAY=120

# Position Close Delay Range (in seconds) - RANDOMIZED
# Positions will be closed after a random time between MIN and MAX
# This provides natural variation in position hold times
#
# Example configurations:
#   MIN_CLOSE_DELAY=30, MAX_CLOSE_DELAY=50   (30-50 second hold, fast)
#   MIN_CLOSE_DELAY=60, MAX_CLOSE_DELAY=120  (1-2 minute hold, moderate)
#   MIN_CLOSE_DELAY=120, MAX_CLOSE_DELAY=300 (2-5 minute hold, longer)
#
# Remember: MIN_OPEN_DELAY must be >= (MAX_CLOSE_DELAY + 30) for safety
# Default: 30-50 seconds
MIN_CLOSE_DELAY=30
MAX_CLOSE_DELAY=50

# Legacy setting (deprecated - use MIN/MAX_OPEN_DELAY instead)
# Kept for backwards compatibility only
INTERVAL_SECONDS=60

# Maximum number of trades to execute
# 0 = unlimited (run forever)
# 10 = stop after 10 trades (recommended for testing)
MAX_TRADES=0

# Use batch mode for transactions
# true = use batch transactions (better atomicity)
# false = use individual transactions (default)
USE_BATCH_MODE=false

# USDT-based trade sizing (OPTIONAL - overrides BASE_AMOUNT if set)
# Specify trade size in USDT instead of base asset
# Example: 100 = $100 per trade (will be converted to base asset amount at market price)
# Leave empty or set to 0 to use BASE_AMOUNT instead
# Default: empty (uses BASE_AMOUNT)
BASE_AMOUNT_IN_USDT=


# ============================================================================
# EXAMPLE CONFIGURATIONS
# ============================================================================

# --- TESTNET TESTING (with $500 limit) ---
# Testnet provides only $500 per account initially
# Use very small amounts to allow many test trades
# BASE_URL=https://testnet.zklighter.elliot.ai
# BASE_AMOUNT=1000           # 0.0001 ETH (~$0.20)
# MAX_SLIPPAGE=0.05
# INTERVAL_SECONDS=120
# MAX_TRADES=20             # Limit to 20 trades (~$4-8 total)

# --- CONSERVATIVE MAINNET ---
# BASE_URL=https://api.lighter.xyz
# BASE_AMOUNT=100000
# MAX_SLIPPAGE=0.01
# INTERVAL_SECONDS=300
# MAX_TRADES=0

# --- AGGRESSIVE MAINNET ---
# BASE_URL=https://api.lighter.xyz
# BASE_AMOUNT=1000000
# MAX_SLIPPAGE=0.02
# INTERVAL_SECONDS=60
# MAX_TRADES=0
